import jenkins.model.*
import hudson.plugins.git.*
import Templates.*
import Model.*
//import com.cloudbees.hudson.plugins.folder.Folder

//###############################
def config = [
        moduleName:"${env.MODULE_NAME}", 
        serviceName:"${env.SERVICE_NAME}", 
        gitRepoUrl:"${env.GITHUB_URL}"]

node {
	  stage '\u278A SCM Checkout'
	  checkout scm
      model = load("Model/seed-job.groovy")
      model.createSeedJob(config.moduleName)
      model.createDockerTemplate(config.moduleName)
      model.publish(config.moduleName)
}
